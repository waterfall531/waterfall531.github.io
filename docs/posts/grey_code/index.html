<!doctype html>
<html lang="zh-tw">
  <head>
    <title>Grey_code // Randy&#39;s Blog</title>
    <link rel="shortcut icon" href="favicon.png" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.83.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Randy" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://waterfall531.github.io/css/main.min.4a7ec8660f9a44b08c4da97c5f2e31b1192df1d4d0322e65c0dbbc6ecb1b863f.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Grey_code"/>
<meta name="twitter:description" content="Gray Code An n-bit gray code sequence is a sequence of 2n integers where:
 Every integer is in the inclusive range [0, 2n - 1], The first integer is 0, An integer appears no more than once in the sequence, The binary representation of every pair of adjacent integers differs by exactly one bit, and The binary representation of the first and last integers differs by exactly one bit.  Given an integer n, return any valid n-bit gray code sequence."/>

    <meta property="og:title" content="Grey_code" />
<meta property="og:description" content="Gray Code An n-bit gray code sequence is a sequence of 2n integers where:
 Every integer is in the inclusive range [0, 2n - 1], The first integer is 0, An integer appears no more than once in the sequence, The binary representation of every pair of adjacent integers differs by exactly one bit, and The binary representation of the first and last integers differs by exactly one bit.  Given an integer n, return any valid n-bit gray code sequence." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://waterfall531.github.io/posts/grey_code/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-02T15:06:39&#43;08:00" />
<meta property="article:modified_time" content="2021-07-02T15:06:39&#43;08:00" />
<meta property="og:see_also" content="https://waterfall531.github.io/posts/leetcode-1315/" /><meta property="og:see_also" content="https://waterfall531.github.io/posts/leetcode-1689/" /><meta property="og:see_also" content="https://waterfall531.github.io/posts/leetcode-1673/" /><meta property="og:see_also" content="https://waterfall531.github.io/posts/leetcode-1282/" /><meta property="og:see_also" content="https://waterfall531.github.io/posts/leetcode-1476/" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://waterfall531.github.io/"><img class="app-header-avatar" src="/avatar.png" alt="Randy" /></a>
      <h1>Randy&#39;s Blog</h1>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
      </nav>
      <p>Life is like riding a bicycle. To keep your balance, you must keep moving. – Albert Einstein 
 頭貼為貓貓蟲咖波</p>
      <div class="app-header-social">
        
          <a href="https://github.com/waterfall531" target="_blank" rel="noreferrer noopener">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
<article class="post">
  <header class="post-header">
    <h1 class="post-title">Grey_code</h1>
    <div class="post-meta">
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
        Jul 2, 2021
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
        2 min read
      </div>
      <div>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
        <a class="tag" href="https://waterfall531.github.io/tags/algorithm/">algorithm</a>
      </div>
    </div>
    
    <script src="https://cdn.bootcss.com/mermaid/8.0.0-rc.8/mermaid.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        Array.from(document.getElementsByClassName('language-mermaid')).forEach(el => {
          el.parentElement.outerHTML = `<div class="mermaid" align="center">${el.innerText}</div>`
        })
      });
    </script>
  </header>
  <div class="post-content">
    <h1 id="gray-code">Gray Code</h1>
<p>An <strong>n-bit gray code sequence</strong> is a sequence of <code>2n</code> integers where:</p>
<ul>
<li>Every integer is in the <strong>inclusive</strong> range <code>[0, 2n - 1]</code>,</li>
<li>The first integer is <code>0</code>,</li>
<li>An integer appears <strong>no more than once</strong> in the sequence,</li>
<li>The binary representation of every pair of <strong>adjacent</strong> integers differs by <strong>exactly one bit</strong>, and</li>
<li>The binary representation of the <strong>first</strong> and <strong>last</strong> integers differs by <strong>exactly one bit</strong>.</li>
</ul>
<p>Given an integer <code>n</code>, return <em>any valid <strong>n-bit gray code sequence</strong></em>.</p>
<h2 id="fail-solution">Fail Solution</h2>
<pre><code class="language-mermaid" data-lang="mermaid">graph TB;
  000 === 001
  000 === 010
  000 === 100
  001 === 101
  001 === 011
  010 === 110
  010 === 011
  100 === 101 
  100 === 110
  101 === 111
  011 === 111
  110 === 111
</code></pre><pre><code class="language-mermaid" data-lang="mermaid">  graph TB;
  0000 ==== 0001
  0000 ==== 0010
  0000 ==== 0100
  0000 ==== 1000

  0001 ==== 1001
  0001 ==== 0101
  0001 ==== 0011
  0010 ==== 1010
  0010 ==== 0110
  0010 ==== 0011
  0100 ==== 1100
  0100 ==== 0110
  0100 ==== 0101
  1000 ==== 1100
  1000 ==== 1010
  1000 ==== 1001

  1001 ==== 1101
  1001 ==== 1011
  0101 ==== 1101
  0101 ==== 0111
  0011 ==== 1011
  0011 ==== 0111
  1010 ==== 1110
  1010 ==== 1011
  0110 ==== 1110
  0110 ==== 0111
  1100 ==== 1101
  1100 ==== 1110

  1101 ==== 1111
  1110 ==== 1111
  1011 ==== 1111
  0111 ==== 1111
</code></pre><ol>
<li>第一層為 4 x 0, 0 x 1</li>
<li>第二層為 3 x 0, 1 x 1</li>
<li>第m層為 m x 0, n-m x1</li>
<li>$ C^n_m $ x 1</li>
</ol>
<h2 id="solution">Solution</h2>
<ol>
<li>複習格雷碼</li>
<li>了解規律
<ol>
<li>0,1</li>
<li>00,01,11,10</li>
<li><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Binary-reflected_Gray_code_construction.svg/1280px-Binary-reflected_Gray_code_construction.svg.png" alt="規律"></li>
</ol>
</li>
<li>寫程式</li>
</ol>
<h2 id="byme">ByMe</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span> {

    <span style="color:#e6db74">/**
</span><span style="color:#e6db74">     * @param Integer $n
</span><span style="color:#e6db74">     * @return Integer[]
</span><span style="color:#e6db74">     */</span>
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">grayCode</span>($n) {
        $list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>];
        <span style="color:#66d9ef">if</span> ($n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>){
            <span style="color:#66d9ef">return</span> $list;
        }
        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> ; $i <span style="color:#f92672">&lt;</span> $n ; $i<span style="color:#f92672">++</span>){
            $list <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">next</span>($list);
        }

        <span style="color:#66d9ef">return</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">transfrom</span>($list);
    }
    
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">next</span>($now){
        <span style="color:#66d9ef">foreach</span>($now <span style="color:#66d9ef">as</span> $ele){
            $tmp[] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">.</span> $ele;
        }
        <span style="color:#a6e22e">krsort</span>($now);
        <span style="color:#66d9ef">foreach</span>($now <span style="color:#66d9ef">as</span> $ele){
            $tmp[] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">.</span> $ele;
        }
        $list <span style="color:#f92672">=</span> $tmp;
        <span style="color:#66d9ef">return</span> $list;
    }

    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">transfrom</span>($list){
        $result <span style="color:#f92672">=</span> [];
        <span style="color:#66d9ef">foreach</span>($list <span style="color:#66d9ef">as</span> $e){
            $result[] <span style="color:#f92672">=</span> <span style="color:#a6e22e">bindec</span>($e);
        }
        <span style="color:#66d9ef">return</span> $result;
    }
}
</code></pre></div><p>解題思路</p>
<ol>
<li>初始化[0,1]</li>
<li>複製上一份</li>
<li>首位加0</li>
<li>首位加1</li>
<li>轉換成十進位</li>
</ol>
<p>緩慢的原因是：</p>
<ol>
<li>還要_複製上一份_ 之外 還要_排序_</li>
<li>之外還要轉換2進制</li>
</ol>
<h2 id="by-bast">By Bast</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution2</span> {

    <span style="color:#e6db74">/**
</span><span style="color:#e6db74">     * @param Integer $n
</span><span style="color:#e6db74">     * @return Integer[]
</span><span style="color:#e6db74">     */</span>
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">grayCode</span>($n) {
        $result <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>];
        
        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; $i <span style="color:#f92672">&lt;=</span> $n; $i<span style="color:#f92672">++</span>) {
            $resultLen <span style="color:#f92672">=</span> <span style="color:#a6e22e">count</span>($result);
            $mask <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> ($i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>);
            <span style="color:#66d9ef">for</span> ($j <span style="color:#f92672">=</span> $resultLen <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; $j <span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>; $j<span style="color:#f92672">--</span>) {
                $result[] <span style="color:#f92672">=</span> $result[$j] <span style="color:#f92672">+</span> $mask;
            }
        }
        
        <span style="color:#66d9ef">return</span> $result;
    }
}
</code></pre></div><ol>
<li>一樣先初始化0</li>
<li>但第一層就是加上去的
<ol>
<li>0,0+1</li>
<li>0,1,1+2,0+2</li>
</ol>
</li>
<li>進位是用位元</li>
<li>也不用重新排序只要每次都倒序取就好</li>
</ol>

  </div>
  <div class="post-footer">
    
  </div>
</article>

    </main>
  </body>
</html>
